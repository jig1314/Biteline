@page "/"
@using Biteline.Client.ViewModels

<BSRow>
    <BSCol XS="4">
        <FoodItemList Items="Items" OnAddButtonClicked="ChangeToAddMode" />
    </BSCol>
    <BSCol>
        @if (addItemMode)
        {
            <AddItem OnClose="ChangeToDefaultMode" OnAddItem="AddItem" />
        }
        else
        {
            <BSRow>
                <PopularRecipes />
            </BSRow>
            <BSRow>
                <RecipeSuggestions Items="ItemNames"/>
            </BSRow>
        }
    </BSCol>
</BSRow>

@code
{
    List<string> ItemNames = new List<string>();
    List<AddItemViewModel> Items = new List<AddItemViewModel>();

    bool addItemMode = false;

    protected void ChangeToAddMode()
    {
        addItemMode = true;
    }

    protected void ChangeToDefaultMode()
    {
        addItemMode = false;
    }

    protected void AddItem(AddItemViewModel item)
    {
        Items.Add(item);
        if (!ItemNames.Contains(item.Name))
        {
            ItemNames.Add(item.Name);
        }
    }
}
